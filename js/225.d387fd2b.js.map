{"version":3,"file":"js/225.d387fd2b.js","mappings":"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","sources":["webpack://vue-homework/./src/stores/cart.js","webpack://vue-homework/./src/stores/statusStore.js","webpack://vue-homework/./src/views/ShopingCart.vue","webpack://vue-homework/./src/views/ShopingCart.vue?9d58"],"sourcesContent":["import { defineStore } from 'pinia'\nimport axios from 'axios'\nimport statusStore from '@/stores/statusStore'\n\nconst status = statusStore()\nexport default defineStore('cartStore', {\n  state: () => ({\n    cart: {},\n    total: null,\n    cartqty: null\n  }),\n  actions: {\n    addToCart (id, qty = 1) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      status.cartLodaingItem = id\n      status.isLoading = false\n      const cart = {\n        product_id: id,\n        qty\n      }\n      axios.post(url, { data: cart })\n        .then((res) => {\n          status.pushMessage({ title: '加入購物車' })\n          status.cartLodaingItem = ''\n          console.log(res)\n          this.getCart()\n        })\n    },\n    getCart () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      status.isLoading = true\n      axios.get(url).then((response) => {\n        this.cart = response.data.data\n        status.isLoading = false\n        this.total = this.cart.total\n        this.cartqty = this.cart.carts.length\n        console.log(this.cartqty)\n      })\n    },\n    updateCart (item) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      status.isLoading = true\n      status.cartLodaingItem = item.id\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty\n      }\n      axios.put(url, { data: cart }).then((res) => {\n        console.log(res)\n        this.getCart()\n        status.pushMessage({ title: '更新購物車資訊', content: res.data.message })\n        status.cartLodaingItem = ''\n        status.isLoading = false\n      })\n    },\n    delcart (id) {\n      status.cartLodaingItem = id\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\n      status.isLoading = true\n      axios.delete(url).then((response) => {\n        console.log(response)\n        status.pushMessage({ title: '移除購物車品項', content: response.data.message })\n        status.cartLodaingItem = ''\n        this.getCart()\n        status.isLoading = false\n      })\n    }\n  }\n})\n","import { defineStore } from 'pinia'\nexport default defineStore('statusStores', {\n  state: () => ({\n    isLoading: false,\n    cartLodaingItem: '',\n    messages: []\n  }),\n  actions: {\n    pushMessage (data) {\n      const { title, content, style = 'success' } = data\n      this.messages.push({ style, title, content })\n    }\n  }\n})\n","<template>\n  <Nav></Nav>\n  <div\n    class=\"text-center fs-3 pt-5 mt-5 ms-4\"\n    style=\"font-family: Marcellus SC, serif\"\n  >\n    確認購物車商品數量是否正確\n  </div>\n  <div class=\"pt-5 container\">\n    <div class=\"position-relative m-4\" style=\"margin-top: 56px\">\n      <div class=\"progress\" style=\"height: 1px\">\n        <div\n          class=\"progress-bar\"\n          role=\"progressbar\"\n          style=\"width: 100%\"\n          aria-valuenow=\"50\"\n          aria-valuemin=\"0\"\n          aria-valuemax=\"100\"\n        ></div>\n      </div>\n      <button\n        type=\"button\"\n        class=\"\n          position-absolute\n          top-0\n          start-0\n          translate-middle\n          btn btn-sm btn-primary\n          rounded-pill\n        \"\n        style=\"width: 4rem; height: 4rem\"\n      >\n        <i class=\"bi bi-bag\" style=\"font-size: 25px\"></i>\n      </button>\n      <button\n        type=\"button\"\n        class=\"\n          position-absolute\n          top-0\n          start-50\n          translate-middle\n          btn btn-sm btn-danger\n          rounded-pill\n        \"\n        style=\"width: 4rem; height: 4rem\"\n      >\n        <i class=\"bi bi-cart-check\" style=\"font-size: 25px\"></i>\n      </button>\n      <button\n        type=\"button\"\n        class=\"\n          position-absolute\n          top-0\n          start-100\n          translate-middle\n          btn btn-sm btn-secondary\n          rounded-pill\n        \"\n        style=\"width: 4rem; height: 4rem\"\n      >\n        <i class=\"bi bi-credit-card-2-back\" style=\"font-size: 25px\"></i>\n      </button>\n    </div>\n  </div>\n  <div class=\"container mx-auto pt-3\">\n    <div class=\"row\">\n      <div class=\"col-4 text-start fs-5\">商品</div>\n      <div class=\"col-4 text-center fs-5\">購物車</div>\n      <div class=\"col-4 text-end fs-5\">結帳</div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"col-12 col-lg-8\">\n      <div class=\"cart-table d-flex container p-3 mt-5 text-white\">\n        <div class=\"col-3\" >商品名稱</div>\n        <div class=\"col-2\">單價</div>\n        <div class=\"col-3 ms-5\">數量</div>\n        <div class=\"col-2\">金額</div>\n        <div class=\"col-2\">移除</div>\n      </div>\n    </div>\n    <div class=\"row mb-5\">\n        <div class=\"col-12 col-lg-8 d-flex shadow p-1 mb-3 bg-body rounded\" style=\"height:200px\"  v-for=\"item in cart.carts\" :key=\"item.id\">\n            <div class=\"col-3 ps-3 pt-3\">\n                <img class=\"pb-1 pic\" :src=\"item.product.imageUrl\" alt=\"\" />\n                <p class=\"\">{{item.product.title}}</p>\n            </div>\n            <div class=\"col-2 ms-3 d-flex align-items-center\">\n                <p>{{ item.product.price}}元</p>\n            </div>\n            <div class=\"col-3 d-flex align-items-center\">\n                <div class=\"input-group input-group-sm\" style=\"width:140px\">\n              <input\n                min=\"1\"\n                type=\"number\"\n                class=\"form-control\"\n                v-model.number=\"item.qty\"\n                @change=\"updateCart(item)\"\n              />\n              <div class=\"input-group-text\">/ {{ item.product.unit }}元</div>\n            </div>\n            </div>\n            <div class=\"col-2 d-flex align-items-center ms-4\">\n                {{ item.total}}元\n            </div>\n            <div class=\"col-2 d-flex align-items-center\">\n                <button type=\"button\" class=\"btn btn-danger\" style=\"margin-top:10px;\" @click=\"delcart(item.id)\">\n                <i class=\"bi bi-trash3\"></i>\n                </button>\n            </div>\n        </div>\n        <div class=\"col-12 col-lg-4\">\n            <div class=\"row\">\n            <div class=\"col-10 mx-auto shadow p-1 mb-3 bg-body rounded\">\n                <div class=\"row m-4\">\n                    <p class=\"col-8\">小計</p>\n                    <div class=\"col-4\">{{total}}元</div>\n                    <p class=\"col-8\">運費</p>\n                    <div class=\"col-4\">免費</div>\n                    <hr>\n                    <p class=\"col-8\">總計</p>\n                    <div class=\"col-4\">{{total}}元</div>\n                    <router-link to=\"/user/order\" class=\"btn btn-warning\">結帳</router-link>\n                </div>\n            </div>\n        </div>\n        </div>\n    </div>\n  </div>\n  <Footer></Footer>\n</template>\n\n<style>\n.cart-table {\n  background-color: #386150;\n  border-radius: 10px;\n}\n.cart-list {\n  border-radius: 5px;\n}\n.pic {\n  display: flex;\n  align-items: center;\n  width: 120px;\n  height: 120px;\n}\n@media (max-width: 500px) {\n  .pic {\n    width: 90px;\n    height: 90px;\n    margin: 0;\n  }\n}\n</style>\n\n<script>\nimport Nav from '@/components/NavUser.vue'\nimport Footer from '@/components/FooterView.vue'\nimport { mapState, mapActions } from 'pinia'\nimport cart from '@/stores/cart'\nimport statusStore from '@/stores/statusStore'\nexport default {\n  components: {\n    Nav,\n    Footer\n  },\n  computed: {\n    ...mapState(cart, ['cart', 'total']),\n    ...mapState(statusStore, ['isLoading'])\n  },\n  methods: {\n    ...mapActions(cart, ['addToCart', 'getCart', 'delcart', 'updateCart'])\n  },\n  created () {\n    this.getCart()\n  }\n}\n\n</script>\n","import { render } from \"./ShopingCart.vue?vue&type=template&id=577c8526\"\nimport script from \"./ShopingCart.vue?vue&type=script&lang=js\"\nexport * from \"./ShopingCart.vue?vue&type=script&lang=js\"\n\nimport \"./ShopingCart.vue?vue&type=style&index=0&id=577c8526&lang=css\"\n\nimport exportComponent from \"/Users/youyo/Desktop/vue-demo/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","cart","total","cartqty","actions","addToCart","id","qty","url","cartLodaingItem","isLoading","product_id","axios","data","then","res","pushMessage","title","console","log","this","getCart","response","carts","length","updateCart","item","content","message","delcart","messages","style","push","_createElementVNode","class","role","type","_hoisted_18","_createVNode","_component_Nav","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_createElementBlock","_Fragment","_renderList","_ctx","key","src","product","imageUrl","alt","_toDisplayString","price","min","$event","onChange","unit","onClick","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_component_router_link","to","_component_Footer","components","Nav","Footer","computed","mapState","methods","mapActions","created","__exports__","render"],"sourceRoot":""}