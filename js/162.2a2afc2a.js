"use strict";(self["webpackChunkvue_homework"]=self["webpackChunkvue_homework"]||[]).push([[162],{9162:function(t,i,o){o.r(i),o.d(i,{default:function(){return V}});var s=o(3396),e=o(7139);const a=(0,s._)("div",{class:"container-fuild position-relative"},[(0,s._)("div",{class:"img-fluid productbanner"},[(0,s._)("div",{class:"position-absolute top-50 start-50 translate-middle"},[(0,s._)("h3",{class:"text-white text-center lh-base productTitle animate__animated animate__fadeInDown animate__delay-1s"}," 商品資訊 ")])])],-1),r={class:"container"},d={"aria-label":"breadcrumb"},c={class:"breadcrumb mt-3"},l={class:"breadcrumb-item"},n=(0,s.Uk)("首頁"),u={class:"breadcrumb-item"},p=(0,s.Uk)("家具列表"),m={class:"breadcrumb-item active","aria-current":"page"},h={class:"row mt-5"},g={class:"col-md-7 mb-5"},_={class:"bg product-pic"},b=["src"],v={class:"col-md-5 mb-5 col-11 mx-uto"},w={class:"text-center pb-3"},k={class:"fs-5"},y={class:"position-relative"},f=(0,s._)("hr",null,null,-1),x=(0,s._)("hr",null,null,-1),L={key:0,style:{},class:"h5 pb-3"},z={key:1,style:{},class:"h6 pb-3"},D={key:2,style:{color:"#d9794d"},class:"h5"},W=["disabled"],q={key:0,class:"spinner-border text-warning spinner-border-sm",role:"status"},C=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),F=[C],U=(0,s.Uk)(" 加到購物車 ");function Z(t,i,o,C,Z,$){const T=(0,s.up)("LoadingView"),I=(0,s.up)("Nav"),N=(0,s.up)("router-link"),P=(0,s.up)("From"),H=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(T,{active:Z.isLoading},null,8,["active"]),(0,s.Wm)(I),a,(0,s._)("div",r,[(0,s._)("nav",d,[(0,s._)("ol",c,[(0,s._)("li",l,[(0,s.Wm)(N,{to:"/user/frontpage",style:{color:"#846267","text-decoration":"none"}},{default:(0,s.w5)((()=>[n])),_:1})]),(0,s._)("li",u,[(0,s.Wm)(N,{to:"/user/cart",style:{color:"#846267","text-decoration":"none"}},{default:(0,s.w5)((()=>[p])),_:1})]),(0,s._)("li",m,(0,e.zw)(Z.product.title),1)])]),(0,s._)("div",h,[(0,s._)("div",g,[(0,s._)("div",_,[(0,s._)("img",{src:Z.product.imageUrl,alt:"",class:"img-fluid mb-3 d-flex mx-auto p-4"},null,8,b)])]),(0,s._)("div",v,[(0,s._)("h2",w,(0,e.zw)(Z.product.title),1),(0,s._)("div",k,(0,e.zw)(Z.product.content),1),(0,s._)("div",y,[f,(0,s._)("div",null,(0,e.zw)(Z.product.description),1),x,Z.product.price?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",L,(0,e.zw)(Z.product.origin_price)+" 元 ",1)),Z.product.price?((0,s.wg)(),(0,s.iD)("del",z,"原價 "+(0,e.zw)(Z.product.origin_price)+" 元",1)):(0,s.kq)("",!0),Z.product.price?((0,s.wg)(),(0,s.iD)("div",D," 現在只要 "+(0,e.zw)(Z.product.price)+" 元 ",1)):(0,s.kq)("",!0),(0,s._)("button",{type:"button",class:"btn btn-outline-danger position-absolute bottom-0 end-0",onClick:i[0]||(i[0]=t=>$.addToCart(Z.product.id)),disabled:this.status.loadingitem===Z.product.id},[this.status.loadingitem===Z.product.id?((0,s.wg)(),(0,s.iD)("div",q,F)):(0,s.kq)("",!0),U],8,W)])])])]),(0,s.Wm)(P),(0,s.Wm)(H)],64)}var $=o(6696),T=o(2221),I=o(1547),N={data(){return{isLoading:!1,product:{},id:"",status:{loadingitem:""}}},components:{Nav:$.Z,From:T.Z,Footer:I.Z},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/youyu-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t){const i="https://vue3-course-api.hexschool.io/api/youyu-api/cart";this.status.loadingitem=t,this.isLoading=!0;const o={product_id:t,qty:1};this.$http.post(i,{data:o}).then((t=>{this.isLoading=!1,this.status.loadingitem="",console.log(t,"已加入購物車"),console.log(o),location.reload()})),console.log(t)}},created(){this.id=this.$route.params.productId,this.getProduct()}},P=o(89);const H=(0,P.Z)(N,[["render",Z]]);var V=H}}]);
//# sourceMappingURL=162.2a2afc2a.js.map